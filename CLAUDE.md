# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## ä»Šæ—¥å®Œæˆçš„å·¥ä½œ

### ğŸ”§ **å¯¼èˆªæ ä¼˜åŒ–**
- âœ… **ç§»é™¤äº†æ–°é—»å’Œè¡Œæƒ…å¯¼èˆªé¡¹**
- âœ… **ä¿®æ”¹äº† `src/components/layout/UnifiedNavbar.tsx`**
- âœ… **ä¿ç•™äº†å…¶ä»–æ ¸å¿ƒåŠŸèƒ½**ï¼šåŸ¹è®­ã€æ•™è‚²ã€åšå®¢ã€å¿ƒç†æµ‹è¯•ã€ä»ªè¡¨æ¿ã€å®æ—¶äº¤æ˜“ã€æ—¥å†ã€äº¤æ˜“å·¥å…·ã€å¸¸è§é—®é¢˜ã€ä¼šå‘˜ä¿¡æ¯

### ğŸš€ **åšå®¢é¡µé¢ä¿®å¤**
- âœ… **è¯†åˆ«äº†404é”™è¯¯æ ¹æœ¬åŸå› **ï¼šç¼ºå°‘åšå®¢æ–‡ç« åˆ—è¡¨é¡µé¢
- âœ… **å‘ç°åŸæœ‰åšå®¢æ•°æ®**ï¼š`src/data/blogPosts.ts` (410KBï¼ŒåŒ…å«å®Œæ•´æ–‡ç« æ•°æ®ï¼‰
- âœ… **æ¢å¤åŸæœ‰åšå®¢ç³»ç»Ÿ**ï¼š
  - åˆ›å»ºäº†åšå®¢æ–‡ç« åˆ—è¡¨é¡µé¢ `src/app/[locale]/(portal)/splan/blog/page.tsx`
  - é›†æˆäº†åŸæœ‰ `blogPosts.ts` æ•°æ®
  - å®ç°äº†å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­è‹±æ–‡ï¼‰
  - ä½¿ç”¨äº†ç°ä»£åŒ–UIè®¾è®¡ï¼ˆTailwind CSS + Radix UIï¼‰
  - åŒ…å«åˆ†ç±»ç­›é€‰ã€æ ‡ç­¾æ˜¾ç¤ºã€ä½œè€…ä¿¡æ¯ã€å‘å¸ƒæ—¶é—´

### ğŸ—‘ï¸ **ç™¾åº¦SEOæ¸…ç†**
- âœ… **åˆ é™¤äº†å®Œæ•´çš„ç™¾åº¦SEOè‡ªåŠ¨åŒ–ç³»ç»Ÿ**ï¼š
  - ç§»é™¤äº†GitHub Actionså·¥ä½œæµï¼š`.github/workflows/baidu-seo.yml`
  - åˆ é™¤äº†ç›¸å…³è„šæœ¬æ–‡ä»¶ï¼š
    - `scripts/generate-sitemap.js`
    - `scripts/baidu-sitemap-submit.js`
    - `scripts/baidu-submit.js`
- âœ… **æ¸…ç†äº†package.jsonå‘½ä»¤**ï¼š
  - ç§»é™¤äº† `"baidu-all": "npm run generate-sitemap && npm run baidu-sitemap && npm run baidu-submit"`
- âœ… **æ¢å¤äº†ç®€æ´çš„package.json**ï¼šä¿ç•™æ ¸å¿ƒå¼€å‘å‘½ä»¤
- âœ… **æ›´æ–°äº†robots.ts**ï¼šç§»é™¤äº†ç™¾åº¦çˆ¬è™«ç‰¹æ®Šé…ç½®

### ğŸ¯ **æœåŠ¡å™¨çŠ¶æ€**
- âœ… **å¼€å‘æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ**ï¼š`http://localhost:3001`
- âœ… **ç¼–è¯‘æˆåŠŸ**ï¼šæ‰€æœ‰é¡µé¢æ­£å¸¸è®¿é—®
- âœ… **åšå®¢é¡µé¢å®Œå…¨æ¢å¤**ï¼šæ˜¾ç¤ºåŸæœ‰410KBæ•°æ®

## ğŸ“‹ **å»ºè®®åç»­å¼€å‘é‡ç‚¹**

### 1. **åšå®¢ç³»ç»Ÿå®Œå–„**
- å®ç°åšå®¢æ–‡ç« çš„å¢åˆ æ”¹åŠŸèƒ½
- æ·»åŠ è¯„è®ºç³»ç»Ÿ
- å®ç°æœç´¢åŠŸèƒ½
- æ·»åŠ æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾ç®¡ç†
- ä¼˜åŒ–SEOå…ƒæ•°æ®ç”Ÿæˆ

### 2. **äº¤æ˜“åŠŸèƒ½å¼€å‘**
- å®Œå–„Binance APIé›†æˆ
- å®ç°å®æ—¶äº¤æ˜“ç•Œé¢
- æ·»åŠ äº¤æ˜“å†å²è®°å½•
- å®Œå–„é£é™©ç®¡ç†ç³»ç»Ÿ

### 3. **SEOä¼˜åŒ–**
- å®ç°åŠ¨æ€sitemapç”Ÿæˆ
- æ·»åŠ ç»“æ„åŒ–æ•°æ®æ ‡è®°
- ä¼˜åŒ–é¡µé¢åŠ è½½æ€§èƒ½
- å®ç°å¤šè¯­è¨€SEOä¼˜åŒ–

## é¡¹ç›®æ¦‚è¿°

GrowingPool æ˜¯ä¸€ä¸ªåŸºäº Next.js 15 çš„ä¸“ä¸šäº¤æ˜“å‘˜åŸ¹è®­å¹³å°ï¼Œé›†æˆäº¤æ˜“æ•™è‚²ã€å®è·µè®­ç»ƒã€å¸‚åœºåˆ†æå’ŒSEOä¼˜åŒ–åŠŸèƒ½ã€‚é¡¹ç›®åŸåä¸º pinbar-trader-appï¼Œç°ä½¿ç”¨ pnpm ä½œä¸ºåŒ…ç®¡ç†å™¨ã€‚

## å¼€å‘å‘½ä»¤

### æ ¸å¿ƒå¼€å‘å‘½ä»¤
```bash
pnpm dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build            # ç”Ÿäº§æ„å»º
pnpm start            # ç”Ÿäº§è¿è¡Œ
pnpm lint             # ä»£ç è´¨é‡æ£€æŸ¥
```

### SEOè‡ªåŠ¨åŒ–å‘½ä»¤
```bash
pnpm generate-sitemap     # ç”Ÿæˆç«™ç‚¹åœ°å›¾
pnpm baidu-sitemap        # æäº¤ç™¾åº¦ç«™ç‚¹åœ°å›¾
pnpm baidu-submit         # ç™¾åº¦SEOæäº¤
pnpm baidu-all           # æ‰§è¡Œå®Œæ•´çš„SEOè‡ªåŠ¨åŒ–æµç¨‹
```

## æ¶æ„ç»“æ„

### æŠ€æœ¯æ ˆ
- **Next.js 15.0.3** - App Routeræ¶æ„ï¼Œæ”¯æŒSSR/SSG
- **React 19.0.0-rc** - æœ€æ–°ç‰ˆæœ¬React
- **TypeScript** - ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- **Tailwind CSS + Radix UI** - æ ·å¼å’Œç»„ä»¶åº“
- **Supabase** - æ•°æ®åº“å’Œè®¤è¯
- **PostgreSQL + Redis** - æ•°æ®å­˜å‚¨å’Œç¼“å­˜
- **Binance API** - æœŸè´§äº¤æ˜“æ¥å£
- **Three.js + React Three Fiber** - 3Då¯è§†åŒ–
- **Lightweight Charts** - äº¤æ˜“å›¾è¡¨åº“

### æ ¸å¿ƒç›®å½•

#### åº”ç”¨æ¶æ„ (`src/app/`)
```
src/app/
â”œâ”€â”€ (server)/           # æœåŠ¡ç«¯ç»„ä»¶ç»„ - æ•°æ®å¤„ç†å’ŒAPIè°ƒç”¨
â”œâ”€â”€ [locale]/          # å›½é™…åŒ–è·¯ç”± - å¤šè¯­è¨€æ”¯æŒ
â”‚   â””â”€â”€ (portal)/      # ä¸»è¦åŠŸèƒ½é¡µé¢ç»„
â”‚       â”œâ”€â”€ dashboard/      # ä»ªè¡¨æ¿
â”‚       â”œâ”€â”€ education/      # æ•™è‚²åŸ¹è®­
â”‚       â”œâ”€â”€ live-trading/  # å®æ—¶äº¤æ˜“
â”‚       â”œâ”€â”€ market-analysis/# å¸‚åœºåˆ†æ
â”‚       â”œâ”€â”€ tools/         # äº¤æ˜“å·¥å…·
â”‚       â””â”€â”€ ...å…¶ä»–åŠŸèƒ½é¡µé¢
â”œâ”€â”€ api/               # APIè·¯ç”± - åç«¯æ¥å£
â”‚   â”œâ”€â”€ trading/      # äº¤æ˜“ç›¸å…³API
â”‚   â”œâ”€â”€ database-test/  # æ•°æ®åº“æµ‹è¯•
â”‚   â””â”€â”€ supabase-test/  # Supabaseæµ‹è¯•
â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”œâ”€â”€ page.tsx           # é¦–é¡µï¼ˆé‡å®šå‘åˆ°ä¸­æ–‡ç‰ˆï¼‰
â”œâ”€â”€ robots.ts          # SEOé…ç½®
â”œâ”€â”€ sitemap.ts         # ç«™ç‚¹åœ°å›¾
â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
```

#### äº¤æ˜“å¼•æ“ (`src/lib/trading/`)
```
src/lib/trading/
â”œâ”€â”€ connectors/        # APIè¿æ¥å™¨ (Binanceç­‰)
â”‚   â””â”€â”€ binance.ts # Binance APIè¿æ¥å™¨
â”œâ”€â”€ indicators/        # æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
â”‚   â”œâ”€â”€ bollinger.ts
â”‚   â”œâ”€â”€ macd.ts
â”‚   â”œâ”€â”€ keltner.ts
â”‚   â””â”€â”€ supertrend.ts
â”œâ”€â”€ strategies/        # äº¤æ˜“ç­–ç•¥å®ç°
â”‚   â””â”€â”€ xauusd-strategy.ts
â”œâ”€â”€ backtest/         # å›æµ‹ç³»ç»Ÿ
â””â”€â”€ types.ts       # äº¤æ˜“æ•°æ®ç±»å‹å®šä¹‰
```

#### ç»„ä»¶åº“ (`src/components/`)
```
src/components/
â”œâ”€â”€ ui/               # åŸºç¡€UIç»„ä»¶ (åŸºäºRadix UI)
â”œâ”€â”€ navigation/       # å¯¼èˆªç»„ä»¶
â”œâ”€â”€ charts/           # å›¾è¡¨ç»„ä»¶
â”œâ”€â”€ education/        # æ•™è‚²ç›¸å…³ç»„ä»¶
â”œâ”€â”€ custom/           # è‡ªå®šä¹‰ç»„ä»¶
â””â”€â”€ magicui/          # åŠ¨ç”»æ•ˆæœç»„ä»¶
```

#### é‡è¦å·¥å…·ç›®å½•
```
src/lib/
â”œâ”€â”€ user-management/   # ç”¨æˆ·ç®¡ç†
â”œâ”€â”€ utils.ts           # å·¥å…·å‡½æ•°
â””â”€â”€ getServerLanguage.ts # æœåŠ¡å™¨è¯­è¨€æ£€æµ‹

scripts/               # è‡ªåŠ¨åŒ–è„šæœ¬
â”œâ”€â”€ generate-sitemap.js    # ç«™ç‚¹åœ°å›¾ç”Ÿæˆ
â”œâ”€â”€ baidu-sitemap-submit.js # ç™¾åº¦SEOæäº¤
â””â”€â”€ baidu-submit.js         # ç™¾åº¦é“¾æ¥æäº¤
```

#### å†…å®¹ç®¡ç† (`src/content/`)
```
src/content/
â”œâ”€â”€ news/             # è‡ªåŠ¨æ–°é—»å†…å®¹
â”œâ”€â”€ analysis/         # å¸‚åœºåˆ†æå†…å®¹
â””â”€â”€ education/        # æ•™è‚²åŸ¹è®­å†…å®¹
```

### æ•°æ®æµæ¶æ„

```
å¤–éƒ¨æ•°æ®æº â†’ Next.js APIè·¯ç”± â†’ æ•°æ®å¤„ç†å±‚ â†’ æ•°æ®å­˜å‚¨ â†’ React UI
     â†“              â†“               â†“           â†“          â†“
Binance API â†’ API Routes â†’ ä¸šåŠ¡é€»è¾‘ â†’ PostgreSQL/Redis â†’ ç”¨æˆ·ç•Œé¢
```

## é‡è¦çº¦å®š

### ç»„ä»¶å¼€å‘æ¨¡å¼
- **æœåŠ¡ç«¯ç»„ä»¶**ï¼šæ”¾åœ¨`(server)`ç»„ï¼Œç”¨äºæ•°æ®è·å–å’Œå¤„ç†
- **å®¢æˆ·ç«¯ç»„ä»¶**ï¼šä¸šåŠ¡é€»è¾‘å’Œç”¨æˆ·äº¤äº’ï¼Œä½¿ç”¨`'use client'`
- **UIç»„ä»¶**ï¼šåŸºäºRadix UIï¼Œæ— éšœç¢è®¿é—®ä¼˜å…ˆ

### APIè®¾è®¡æ¨¡å¼
RESTful APIè®¾è®¡ï¼Œä¸»è¦ç«¯ç‚¹ï¼š
```
/api/trading/
â”œâ”€â”€ test-connection    # è¿æ¥æµ‹è¯•
â”œâ”€â”€ binance-status     # è´¦æˆ·çŠ¶æ€
â”œâ”€â”€ candles           # Kçº¿æ•°æ®
â”œâ”€â”€ positions         # æŒä»“ç®¡ç†
â”œâ”€â”€ symbols           # äº¤æ˜“å¯¹ä¿¡æ¯
â””â”€â”€ live              # å®æ—¶äº¤æ˜“æ•°æ®

/api/database-test/   # æ•°æ®åº“è¿æ¥æµ‹è¯•
/api/supabase-test/   # SupabaseæœåŠ¡æµ‹è¯•
```

### æ ·å¼ç³»ç»Ÿ
- Tailwind CSSä¸ºä¸»ï¼Œé…åˆRadix UIä¸»é¢˜
- æ”¯æŒæ·±è‰²æ¨¡å¼åˆ‡æ¢
- å“åº”å¼è®¾è®¡ä¼˜å…ˆ
- ä½¿ç”¨CVAç®¡ç†ç»„ä»¶å˜ä½“

## è‡ªåŠ¨åŒ–ç³»ç»Ÿ

### å†…å®¹è‡ªåŠ¨ç”Ÿæˆ
- **æ–°é—»å†…å®¹**ï¼šæ¯30åˆ†é’Ÿè‡ªåŠ¨ç”Ÿæˆ
- **å¸‚åœºåˆ†æ**ï¼šæ¯80åˆ†é’Ÿè‡ªåŠ¨æ›´æ–°
- **SEOæäº¤**ï¼šå®šæœŸå‘ç™¾åº¦æäº¤ç«™ç‚¹åœ°å›¾

### æµ‹è¯•ç¯å¢ƒé…ç½®
```env
BINANCE_TESTNET=true      # ä½¿ç”¨æµ‹è¯•ç½‘ç»œ
BINANCE_API_KEY=xxx      # Binance APIå¯†é’¥
BINANCE_API_SECRET=xxx   # Binance APIå¯†é’¥
```

## ç¯å¢ƒå˜é‡

å¿…éœ€çš„ç¯å¢ƒå˜é‡ï¼š
```env
BINANCE_API_KEY=xxx
BINANCE_API_SECRET=xxx
BINANCE_TESTNET=true/false
SUPABASE_URL=xxx
SUPABASE_ANON_KEY=xxx
GOOGLE_SERVICE_ACCOUNT_KEY=xxx
```

## å›½é™…åŒ–æ”¯æŒ

é¡¹ç›®æ”¯æŒå¤šè¯­è¨€ï¼Œä½¿ç”¨Next.js 15çš„å›½é™…åŒ–è·¯ç”±ï¼š
- è·¯ç”±æ ¼å¼ï¼š`/[locale]/page`
- é…ç½®æ–‡ä»¶ï¼š`src/lib/i18n/config.ts`

## é‡è¦æ³¨æ„äº‹é¡¹

### å®‰å…¨è€ƒè™‘
- æ‰€æœ‰APIå¯†é’¥é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†
- å®¢æˆ·ç«¯ä¸æš´éœ²æ•æ„Ÿä¿¡æ¯
- APIè·¯ç”±å®ç°é€‚å½“çš„éªŒè¯å’Œæˆæƒ

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨Next.jsçš„å¢é‡é™æ€ç”Ÿæˆ
- å›¾ç‰‡ä¼˜åŒ–å’Œæ‡’åŠ è½½
- Redisç¼“å­˜çƒ­ç‚¹æ•°æ®

### ä»£ç è´¨é‡
- ä¸¥æ ¼çš„TypeScripté…ç½®
- ESLintè§„åˆ™é…ç½®
- ç»Ÿä¸€çš„ä»£ç é£æ ¼å’Œç±»å‹å®šä¹‰

## ç‰¹è‰²åŠŸèƒ½

### 3Då¯è§†åŒ–
- Three.js + React Three Fiber
- è‡ªå®šä¹‰3Då›¾è¡¨å’ŒåŠ¨ç”»æ•ˆæœ

### å®æ—¶äº¤æ˜“
- BinanceæœŸè´§äº¤æ˜“å®Œæ•´æ”¯æŒ
- WebSocketå®æ—¶æ•°æ®æ¨é€
- æŠ€æœ¯æŒ‡æ ‡å®æ—¶è®¡ç®—

### SEOä¼˜åŒ–
- è‡ªåŠ¨å†…å®¹ç”Ÿæˆç³»ç»Ÿ
- ç»“æ„åŒ–æ•°æ®æ ‡è®°
- å¤šè¯­è¨€SEOä¼˜åŒ–